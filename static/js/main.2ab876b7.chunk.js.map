{"version":3,"sources":["components/TodoForm/index.jsx","components/TodoItem/index.jsx","components/Note/WhichItem/index.jsx","constant.js","components/Note/index.jsx","components/Welcome/index.jsx","routes/index.js","components/LeftMenu/index.jsx","App.jsx","index.js"],"names":["TodoForm","addTodo","useState","value","setValue","onSubmit","e","preventDefault","newTodo","id","nanoid","text","isDone","className","maxLength","placeholder","onChange","target","TodoItem","todoObj","index","DoneTodo","DelTodo","style","textDecoration","onClick","danger","WhichItem","props","todos","map","ADDTODO","DONETODO","DELTODO","UNDONE","ISDONE","TIMEDELAY","Note","setTodos","throttle","fn","delay","curTime","Date","now","context","this","args","arguments","nowTime","apply","message","warning","getdata","type","method","axios","url","then","response","newTodos","data","filter","catch","error","console","log","HandleData","Todo","actionType","handleTodo","action","window","confirm","Welcome","routes","path","element","to","rootSubmenuKeys","LeftMenu","openKeys","setOpenKeys","useRoutes","navigata","useNavigate","showData","mode","onOpenChange","keys","latestOpenKey","find","key","indexOf","width","Item","icon","FileImageOutlined","EditOutlined","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2ab876b7.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\nimport { nanoid } from 'nanoid';\r\nimport { Input } from 'antd';\r\nimport './index.css'\r\n\r\n\r\nexport default function TodoForm({ addTodo }) {\r\n  const [value, setValue] = useState('');\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (!value) return;\r\n    const newTodo = { id: nanoid(), text: value, isDone: false };\r\n    addTodo(newTodo);\r\n    setValue('');\r\n  }\r\n  return (\r\n    <form onSubmit={handleSubmit} className='inputForm'>\r\n      <Input maxLength={600} placeholder='请输入' value={value} onChange={e => setValue(e.target.value)} />\r\n    </form>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Button } from 'antd'\r\nimport './index.css'\r\n\r\nexport default function TodoItem({todoObj,index,DoneTodo,DelTodo}) {\r\n\r\n\r\n  return (\r\n    <div className='TodoItem' style={{textDecoration:todoObj.isDone?'line-through':''}}>\r\n        {todoObj.text}\r\n        <div className='ItemBtn'>\r\n          <Button onClick={()=>{DoneTodo(index)}} >完成</Button>\r\n          <Button onClick={()=>{DelTodo(index)}} danger >删除</Button>\r\n        </div>\r\n        \r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nimport TodoItem from '../../TodoItem'\r\nimport './index.css'\r\n\r\nexport default function WhichItem(props) {\r\n\r\n    const { todos, DelTodo, DoneTodo } = props;\r\n    return (\r\n        <div>\r\n            {\r\n                todos.map((todoObj, index) => {\r\n                    return <TodoItem\r\n                        key={todoObj.id}\r\n                        todoObj={todoObj}\r\n                        index={index}\r\n                        DelTodo={DelTodo}\r\n                        DoneTodo={DoneTodo}\r\n                    ></TodoItem>\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","export const ADDTODO = 'addTodo'\r\nexport const DONETODO = 'doneTodo'\r\nexport const DELTODO = 'delTodo'\r\nexport const UNDONE = 'unDone'\r\nexport const ISDONE = 'isDone'\r\nexport const TIMEDELAY = 1000\r\n\r\n\r\n","import React, { useState } from 'react'\r\nimport { Button, message } from 'antd'\r\nimport axios from 'axios'\r\n\r\nimport TodoForm from '../TodoForm'\r\nimport WhichItem from './WhichItem'\r\nimport { ADDTODO, DONETODO, DELTODO, ISDONE, UNDONE, TIMEDELAY } from '../../constant'\r\n\r\nimport './index.css'\r\n\r\n\r\nexport default function Note() {\r\n\r\n  const [todos, setTodos] = useState([]);\r\n\r\n  function throttle(fn, delay) {\r\n    let curTime = Date.now();\r\n\r\n    return function () {\r\n      let context = this,\r\n        args = arguments,\r\n        nowTime = Date.now();\r\n\r\n      // 如果两次时间间隔超过了指定时间，则执行函数。\r\n      if (nowTime - curTime >= delay) {\r\n        curTime = Date.now();\r\n        return fn.apply(context, args);\r\n      } else {\r\n        message.warning('请等待1秒后再进行操作');\r\n      }\r\n    };\r\n  }\r\n\r\n  const getdata = (type, method = 'GET') => {\r\n    return () => {\r\n      axios({\r\n        method: method,\r\n        url: 'http://101.43.227.28:8000/server',\r\n      })\r\n        .then((response) => {\r\n          let newTodos = response.data;\r\n          if (type === ISDONE) {\r\n            newTodos = newTodos.filter(todoObj => {\r\n              return todoObj.isDone\r\n            })\r\n          } else if (type === UNDONE) {\r\n            newTodos = newTodos.filter(todoObj => {\r\n              return !todoObj.isDone\r\n            })\r\n          }\r\n          setTodos(newTodos);\r\n        })\r\n        .catch((error) => {\r\n          console.log('getdata-error', error);\r\n        })\r\n    }\r\n  }\r\n\r\n  const HandleData = (Todo, actionType) => {\r\n    axios({\r\n      method: 'POST',\r\n      url: 'http://101.43.227.28:8000/' + actionType,\r\n      data: Todo\r\n    })\r\n      .then((response) => {\r\n        let newTodos = response.data;\r\n        setTodos(newTodos);\r\n      })\r\n      .catch((error) => {\r\n        console.log('getdata-error', error);\r\n      })\r\n  }\r\n\r\n\r\n  const handleTodo = (action) => {\r\n    switch (action) {\r\n      case ADDTODO:\r\n        return (newTodo) => {\r\n          HandleData(newTodo, 'update');\r\n        }\r\n      case DONETODO:\r\n        return (index) => {\r\n          const newTodos = [...todos];\r\n          HandleData(newTodos[index], 'done');\r\n        }\r\n      case DELTODO:\r\n        return (index) => {\r\n          if (window.confirm('确定删除吗？')) {\r\n            const newTodos = [...todos];\r\n            HandleData(newTodos[index], 'del');\r\n          }\r\n        }\r\n      default:\r\n        return\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='todoList'>\r\n      <TodoForm addTodo={throttle(handleTodo(ADDTODO), TIMEDELAY)} ></TodoForm>\r\n      <Button type=\"primary\" onClick={throttle(getdata(UNDONE), TIMEDELAY)} >未完成</Button>\r\n      <Button type=\"primary\" onClick={throttle(getdata(ISDONE), TIMEDELAY)} >已完成</Button>\r\n      <Button type=\"primary\" onClick={throttle(getdata(), TIMEDELAY)} >全部</Button>\r\n\r\n      <WhichItem todos={todos} DelTodo={handleTodo(DELTODO)} DoneTodo={handleTodo(DONETODO)} />\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Welcome() {\r\n  return (\r\n    <div>你好</div>\r\n  )\r\n}\r\n","import {Navigate } from 'react-router-dom'\r\nimport Note from '../components/Note'\r\nimport Welcome from '../components/Welcome'\r\n\r\nconst routes =[\r\n    {\r\n        path: '/note',\r\n        element: <Note />,\r\n    },\r\n    {\r\n        path: '/welcome',\r\n        element: <Welcome />\r\n    },\r\n    {\r\n        path:'/',\r\n        element:<Navigate to='/note'/>\r\n    }\r\n]\r\n\r\nexport default routes","import React, { useState } from 'react'\r\n\r\nimport { useRoutes, useNavigate } from 'react-router-dom'\r\n\r\nimport { Menu } from 'antd';\r\nimport { EditOutlined, FileImageOutlined } from '@ant-design/icons';\r\n\r\nimport routes from '../../routes'\r\nimport './index.css'\r\n\r\nconst rootSubmenuKeys = ['sub1', 'sub2'];\r\n\r\nexport default function LeftMenu() {\r\n  const [openKeys, setOpenKeys] = useState(['sub1']);\r\n\r\n  const onOpenChange = keys => {\r\n    const latestOpenKey = keys.find(key => openKeys.indexOf(key) === -1);\r\n    if (rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\r\n      setOpenKeys(keys);\r\n    } else {\r\n      setOpenKeys(latestOpenKey ? [latestOpenKey] : []);\r\n    }\r\n  };\r\n\r\n  const element = useRoutes(routes);\r\n  const navigata = useNavigate();\r\n  const showData = (data) => {\r\n    return () => {\r\n      navigata(data);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Menu className='leftMenu' mode=\"inline\" openKeys={openKeys} onOpenChange={onOpenChange} style={{ width: 256 }}>\r\n        <Menu.Item icon={<FileImageOutlined />} key=\"1\" onClick={showData('/welcome')}>你好</Menu.Item>\r\n        <Menu.Item icon={<EditOutlined />} key=\"2\" onClick={showData('/note')}>笔记本</Menu.Item>\r\n      </Menu>\r\n      {element}\r\n    </>\r\n  );\r\n}\r\n","import React from 'react'\r\n\r\nimport LeftMenu from './components/LeftMenu'\r\nimport './App.css'\r\n\r\nexport default function App() {\r\n \r\n  return (\r\n    <div className='App'>\r\n      <LeftMenu></LeftMenu>\r\n    </div>\r\n  )\r\n}\r\n\r\n","//引入react核心库\r\nimport React from 'react'\r\n//引入ReactDOM\r\nimport ReactDOM from 'react-dom'\r\nimport { BrowserRouter } from 'react-router-dom'\r\n//引入App\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n        <App />\r\n    </BrowserRouter>,\r\n    document.getElementById('root'))"],"sourceRoot":""}